# üìè **9. Clustering (No Supervisado)** {-}  

**Ejemplos:** K-Means, DBSCAN, Hierarchical Clustering  
**Cu√°ndo usarlo:**   

* Agrupar datos sin etiquetas previas.
* Descubrir estructuras ocultas o segmentos de mercado.

**Ventajas:** √ötil en exploraci√≥n y reducci√≥n de complejidad.   
**Limitaciones:** Requiere elegir n√∫mero de grupos (excepto DBSCAN); puede ser sensible a escala.

---

## Density-Based Spatial Clustering of Applications with Noise (DBSCAN)  {-}    

```{r, echo = FALSE}
criterios <- c(
  "Tipo de modelo",
  "Variable respuesta",
  "Variables predictoras",
  "Relaci√≥n entre variables",
  "Normalidad de residuos",
  "Independencia de errores",
  "Homoscedasticidad",
  "Sensible a outliers",
  "Multicolinealidad entre predictores",
  "Interpretabilidad",
  "Velocidad y eficiencia",
  "Validaci√≥n cruzada",
  "No funciona bien si..."
)

aplica <- c(
  "‚ùå No supervisado (clustering)",
  "‚ùå No aplica (no hay variable respuesta)",
  "‚úÖ Num√©ricas (distancias euclidianas u otras m√©tricas)",
  "‚úÖ Detecta clusters basados en densidad, no forma lineal",
  "‚ùå No aplica",
  "‚ùå No aplica",
  "‚ùå No aplica",
  "‚úÖ Robusto a outliers (los detecta como ruido)",
  "‚ö†Ô∏è No afecta directamente (no hay predictores)",
  "‚ö†Ô∏è Clusters pueden ser arbitrarios, pero es intuitivo identificar ruido",
  "‚úÖ Razonablemente r√°pido para conjuntos medianos",
  "‚ùå No usa validaci√≥n cruzada cl√°sica; se eval√∫a con m√©tricas de clustering",
  "‚ùå No funciona bien con clusters de densidades muy diferentes o alta dimensionalidad"
)

detalles <- c(
  "Algoritmo de clustering basado en densidad que agrupa puntos cercanos y marca puntos aislados como ruido.",
  "No busca predecir, sino agrupar observaciones.",
  "Se basa en distancias; variables num√©ricas adecuadas; variables categ√≥ricas necesitan transformaci√≥n.",
  "No asume formas de clusters lineales ni convexas; puede detectar clusters arbitrarios.",
  "No genera residuos; no aplica normalidad.",
  "No hay modelo de error residual, no aplica independencia.",
  "No es un modelo predictivo, no aplica homoscedasticidad.",
  "Detecta outliers etiquet√°ndolos como ruido, siendo robusto frente a ellos.",
  "No hay predictores en sentido tradicional, por lo que multicolinealidad no afecta.",
  "Interpretaci√≥n basada en grupos densos y puntos aislados (ruido).",
  "Es eficiente, aunque su rendimiento puede disminuir en alta dimensionalidad.",
  "No utiliza validaci√≥n cruzada est√°ndar; evaluaci√≥n se basa en √≠ndices de clustering como Silhouette.",
  "Dificultades con clusters con diferentes densidades y cuando la dimensionalidad es muy alta."
)

tabla_dbscan <- data.frame(Criterio = criterios, Aplica = aplica, Detalles = detalles)

tabla_dbscan %>%
 gt() %>%
  tab_header(title = "Gu√≠a r√°pida para elegir DBSCAN",
             subtitle = "Density-Based Spatial Clustering of Applications with Noise (DBSCAN)")  %>%
   tab_footnote(footnote = "Fuente: Elaboraci√≥n propia") %>%
     tab_options(heading.title.font.size = 14, 
                 heading.subtitle.font.size = 12,
                 table.font.names = "Century Gothic",
                 table.font.size = 10,
                 data_row.padding = px(1)) %>%
      tab_style(style = list(cell_text(align = "left",
                                       weight = 'bold')),
                locations = list(cells_title(groups = c("title")))) %>%
       tab_style(style = list(cell_text(align = "left")),
                 locations = list(cells_title(groups = c("subtitle")))) %>%
        cols_width(starts_with("Detalles") ~ px(500),
                   everything() ~ px(200)) %>%
         as_raw_html() 
```


## Expectation Maximization (EM) {-}  

```{r, echo = FALSE}
criterios <- c(
  "Tipo de modelo",
  "Variable respuesta",
  "Variables predictoras",
  "Relaci√≥n entre variables",
  "Normalidad de residuos",
  "Independencia de errores",
  "Homoscedasticidad",
  "Sensible a outliers",
  "Multicolinealidad entre predictores",
  "Interpretabilidad",
  "Velocidad y eficiencia",
  "Validaci√≥n cruzada",
  "No funciona bien si..."
)

aplica <- c(
  "‚ùå No supervisado (estimaci√≥n de par√°metros en modelos con datos incompletos o mixtos)",
  "‚ùå No aplica directamente (modelo probabil√≠stico)",
  "‚úÖ Variables num√©ricas o categ√≥ricas seg√∫n modelo",
  "‚úÖ Estima par√°metros m√°ximos de verosimilitud, puede manejar modelos complejos",
  "‚ö†Ô∏è Depende del modelo espec√≠fico usado con EM",
  "‚ö†Ô∏è Depende del modelo; errores independientes si asume modelo estad√≠stico cl√°sico",
  "‚ö†Ô∏è Depende del modelo estad√≠stico subyacente",
  "‚ö†Ô∏è Puede ser sensible a outliers dependiendo del modelo y datos",
  "‚ö†Ô∏è Depende del modelo y las variables involucradas",
  "‚ö†Ô∏è La interpretaci√≥n depende del modelo y par√°metros estimados",
  "‚ùå Puede ser lento si el modelo es complejo o datos muy grandes",
  "‚ùå Validaci√≥n cruzada depende del modelo, no es intr√≠nseco a EM",
  "‚ùå Puede converger a m√°ximos locales; requiere buen punto inicial y modelo adecuado"
)

detalles <- c(
  "Algoritmo iterativo para estimar par√°metros de modelos estad√≠sticos con datos faltantes o variables latentes.",
  "No genera predicciones directas, sino estima par√°metros para modelos probabil√≠sticos.",
  "Aplicable a datos num√©ricos o categ√≥ricos dependiendo del modelo (mezcla de Gaussianas, por ejemplo).",
  "Maximiza la funci√≥n de verosimilitud de manera iterativa, estimando variables latentes y par√°metros.",
  "La normalidad depende del modelo (por ejemplo, mezcla de Gaussianas asume normalidad).",
  "Si el modelo asume errores independientes, entonces s√≠; depende del modelo estad√≠stico usado.",
  "Homoscedasticidad depende del modelo estad√≠stico subyacente.",
  "Sensibilidad a outliers var√≠a seg√∫n la robustez del modelo y datos.",
  "Multicolinealidad afecta seg√∫n la estructura del modelo y variables involucradas.",
  "Interpretaci√≥n es sobre par√°metros estimados y variables latentes, no sobre coeficientes directos.",
  "Puede requerir muchas iteraciones, afectando velocidad en modelos complejos.",
  "La validaci√≥n cruzada depende del modelo aplicado tras la estimaci√≥n por EM.",
  "Puede quedarse atrapado en soluciones sub√≥ptimas; se recomienda m√∫ltiples inicios."
)

tabla_em <- data.frame(Criterio = criterios, Aplica = aplica, Detalles = detalles)

tabla_em %>%
 gt() %>%
  tab_header(title = "Gu√≠a r√°pida para elegir EM",
             subtitle = "Expectation Maximization (EM)")  %>%
   tab_footnote(footnote = "Fuente: Elaboraci√≥n propia") %>%
     tab_options(heading.title.font.size = 14, 
                 heading.subtitle.font.size = 12,
                 table.font.names = "Century Gothic",
                 table.font.size = 10,
                 data_row.padding = px(1)) %>%
      tab_style(style = list(cell_text(align = "left",
                                       weight = 'bold')),
                locations = list(cells_title(groups = c("title")))) %>%
       tab_style(style = list(cell_text(align = "left")),
                 locations = list(cells_title(groups = c("subtitle")))) %>%
        cols_width(starts_with("Detalles") ~ px(500),
                   everything() ~ px(200)) %>%
         as_raw_html() 
```

## Hierarchical Clustering (hclust) {-}  

```{r, echo = FALSE}
criterios <- c(
  "Tipo de modelo",
  "Variable respuesta",
  "Variables predictoras",
  "Relaci√≥n entre variables",
  "Normalidad de residuos",
  "Independencia de errores",
  "Homoscedasticidad",
  "Sensible a outliers",
  "Multicolinealidad entre predictores",
  "Interpretabilidad",
  "Velocidad y eficiencia",
  "Validaci√≥n cruzada",
  "No funciona bien si..."
)

aplica <- c(
  "‚ùå No supervisado (clustering jer√°rquico)",
  "‚ùå No aplica (no hay variable respuesta)",
  "‚úÖ Variables num√©ricas o categ√≥ricas (seg√∫n medida de distancia)",
  "‚úÖ Agrupa observaciones en base a similitud o distancia",
  "‚ùå No aplica",
  "‚ùå No aplica",
  "‚ùå No aplica",
  "‚ö†Ô∏è Sensible a valores at√≠picos que pueden distorsionar distancias",
  "‚ö†Ô∏è No afecta directamente (no hay predictores ni multicolinealidad)",
  "‚úÖ Dendrograma facilita interpretaci√≥n visual de grupos",
  "‚ö†Ô∏è Puede ser lento en datasets muy grandes",
  "‚ùå No se suele usar validaci√≥n cruzada, pero s√≠ m√©todos de evaluaci√≥n interna",
  "‚ùå Resultados muy sensibles a elecci√≥n de distancia y m√©todo de enlace"
)

detalles <- c(
  "M√©todo no supervisado para agrupar observaciones en una jerarqu√≠a basada en distancias.",
  "No busca predecir, sino identificar grupos o clusters.",
  "Puede trabajar con variables num√©ricas y categ√≥ricas si se define distancia adecuada.",
  "Construye dendrograma que muestra agrupamientos sucesivos desde observaciones individuales hasta un solo cluster.",
  "No genera residuos ni modelo predictivo.",
  "No hay supuestos de independencia de errores.",
  "No requiere homoscedasticidad.",
  "Valores at√≠picos pueden alterar significativamente la estructura del dendrograma.",
  "Como es una t√©cnica de agrupamiento, no existe multicolinealidad entre variables predictoras.",
  "Dendrograma permite interpretar las relaciones y agrupamientos entre observaciones.",
  "La complejidad aumenta r√°pido con el n√∫mero de observaciones (O(n^3)).",
  "Se eval√∫an √≠ndices de validaci√≥n de clusters (silhouette, Dunn, etc.) en lugar de CV.",
  "La elecci√≥n de m√©trica de distancia (Euclidiana, Manhattan) y m√©todo de enlace (completo, promedio, single) afecta mucho los resultados."
)

tabla_hclust <- data.frame(Criterio = criterios, Aplica = aplica, Detalles = detalles)

tabla_hclust %>%
 gt() %>%
  tab_header(title = "Gu√≠a r√°pida para elegir HClust",
             subtitle = "Hierarchical Clustering (hclust)")  %>%
   tab_footnote(footnote = "Fuente: Elaboraci√≥n propia") %>%
     tab_options(heading.title.font.size = 14, 
                 heading.subtitle.font.size = 12,
                 table.font.names = "Century Gothic",
                 table.font.size = 10,
                 data_row.padding = px(1)) %>%
      tab_style(style = list(cell_text(align = "left",
                                       weight = 'bold')),
                locations = list(cells_title(groups = c("title")))) %>%
       tab_style(style = list(cell_text(align = "left")),
                 locations = list(cells_title(groups = c("subtitle")))) %>%
        cols_width(starts_with("Detalles") ~ px(500),
                   everything() ~ px(200)) %>%
         as_raw_html() 
```


## k-Means  {-}  

```{r, echo = FALSE}
criterios <- c(
  "Tipo de modelo",
  "Variable respuesta",
  "Variables predictoras",
  "Relaci√≥n entre variables",
  "Normalidad de residuos",
  "Independencia de errores",
  "Homoscedasticidad",
  "Sensible a outliers",
  "Multicolinealidad entre predictores",
  "Interpretabilidad",
  "Velocidad y eficiencia",
  "Validaci√≥n cruzada",
  "No funciona bien si..."
)

aplica <- c(
  "‚ùå No supervisado (clustering por partici√≥n)",
  "‚ùå No aplica (no hay variable respuesta)",
  "‚úÖ Variables num√©ricas (recomendado estandarizar)",
  "‚úÖ Agrupa observaciones seg√∫n distancia a centroides",
  "‚ùå No aplica",
  "‚ùå No aplica",
  "‚ùå No aplica",
  "‚ö†Ô∏è Sensible a valores at√≠picos y centroides iniciales",
  "‚ö†Ô∏è No afecta directamente (no hay predictores ni multicolinealidad)",
  "‚úÖ F√°cil interpretaci√≥n de clusters y centroides",
  "‚úÖ R√°pido y eficiente para datasets grandes",
  "‚ùå No se usa validaci√≥n cruzada, pero s√≠ √≠ndices de cluster (silhouette, etc.)",
  "‚ùå No funciona bien con clusters no esf√©ricos o tama√±os muy dispares"
)

detalles <- c(
  "M√©todo no supervisado que particiona datos en k clusters minimizando suma de cuadrados dentro de clusters.",
  "No busca predecir, sino encontrar grupos o clusters.",
  "Requiere variables num√©ricas; es com√∫n estandarizarlas para evitar sesgos por escala.",
  "Cada observaci√≥n se asigna al cluster con el centroide m√°s cercano (distancia Euclidiana).",
  "No genera residuos ni modelo predictivo.",
  "No hay supuestos de independencia.",
  "No requiere homoscedasticidad.",
  "Los outliers pueden mover centroides y distorsionar clusters.",
  "Como t√©cnica de agrupamiento, no hay multicolinealidad entre variables.",
  "Centroides y clusters son f√°ciles de interpretar y visualizar.",
  "Algoritmo r√°pido, converge r√°pido en general.",
  "Se usan √≠ndices externos e internos para evaluar calidad del clustering, no validaci√≥n cruzada.",
  "No funciona bien si los clusters tienen formas complejas, tama√±os muy distintos o solapamientos."
)

tabla_kmeans <- data.frame(Criterio = criterios, Aplica = aplica, Detalles = detalles)  

tabla_kmeans %>%
 gt() %>%
  tab_header(title = "Gu√≠a r√°pida para elegir k-means",
             subtitle = "K - Means")  %>%
   tab_footnote(footnote = "Fuente: Elaboraci√≥n propia") %>%
     tab_options(heading.title.font.size = 14, 
                 heading.subtitle.font.size = 12,
                 table.font.names = "Century Gothic",
                 table.font.size = 10,
                 data_row.padding = px(1)) %>%
      tab_style(style = list(cell_text(align = "left",
                                       weight = 'bold')),
                locations = list(cells_title(groups = c("title")))) %>%
       tab_style(style = list(cell_text(align = "left")),
                 locations = list(cells_title(groups = c("subtitle")))) %>%
        cols_width(starts_with("Detalles") ~ px(500),
                   everything() ~ px(200)) %>%
         as_raw_html() 
```


## k-Medians  {-}   

```{r, echo = FALSE}
criterios <- c(
  "Tipo de modelo",
  "Variable respuesta",
  "Variables predictoras",
  "Relaci√≥n entre variables",
  "Normalidad de residuos",
  "Independencia de errores",
  "Homoscedasticidad",
  "Sensible a outliers",
  "Multicolinealidad entre predictores",
  "Interpretabilidad",
  "Velocidad y eficiencia",
  "Validaci√≥n cruzada",
  "No funciona bien si..."
)

aplica <- c(
  "‚ùå No supervisado (clustering por partici√≥n)",
  "‚ùå No aplica (no hay variable respuesta)",
  "‚úÖ Variables num√©ricas (recomendado estandarizar)",
  "‚úÖ Agrupa observaciones seg√∫n distancia a la mediana (Manhattan)",
  "‚ùå No aplica",
  "‚ùå No aplica",
  "‚ùå No aplica",
  "‚úÖ M√°s robusto a valores at√≠picos que k-Means",
  "‚ö†Ô∏è No afecta directamente (no hay predictores ni multicolinealidad)",
  "‚úÖ Interpretaci√≥n clara de clusters y medianas",
  "‚ö†Ô∏è Algo m√°s lento que k-Means por c√°lculo de medianas",
  "‚ùå No se usa validaci√≥n cruzada, pero s√≠ √≠ndices de cluster (silhouette, etc.)",
  "‚ùå No funciona bien con clusters no esf√©ricos o tama√±os muy dispares"
)

detalles <- c(
  "M√©todo no supervisado que particiona datos en k clusters minimizando suma de distancias absolutas dentro de clusters.",
  "No busca predecir, sino encontrar grupos o clusters.",
  "Requiere variables num√©ricas; se recomienda estandarizaci√≥n para evitar sesgo por escala.",
  "Cada observaci√≥n se asigna al cluster con la mediana m√°s cercana usando distancia Manhattan.",
  "No genera residuos ni modelo predictivo.",
  "No hay supuestos de independencia.",
  "No requiere homoscedasticidad.",
  "M√°s robusto frente a outliers porque usa medianas en lugar de medias.",
  "Como t√©cnica de agrupamiento, no hay multicolinealidad entre variables.",
  "Medianas y clusters son f√°ciles de interpretar y visualizar.",
  "Computacionalmente puede ser un poco m√°s lento que k-Means.",
  "Se usan √≠ndices externos e internos para evaluar calidad del clustering, no validaci√≥n cruzada.",
  "No funciona bien si los clusters tienen formas complejas, tama√±os muy distintos o solapamientos."
)

tabla_kmedians <- data.frame(Criterio = criterios, Aplica = aplica, Detalles = detalles)

tabla_kmedians %>%
 gt() %>%
  tab_header(title = "Gu√≠a r√°pida para elegir k-medians",
             subtitle = "K - Medians")  %>%
   tab_footnote(footnote = "Fuente: Elaboraci√≥n propia") %>%
     tab_options(heading.title.font.size = 14, 
                 heading.subtitle.font.size = 12,
                 table.font.names = "Century Gothic",
                 table.font.size = 10,
                 data_row.padding = px(1)) %>%
      tab_style(style = list(cell_text(align = "left",
                                       weight = 'bold')),
                locations = list(cells_title(groups = c("title")))) %>%
       tab_style(style = list(cell_text(align = "left")),
                 locations = list(cells_title(groups = c("subtitle")))) %>%
        cols_width(starts_with("Detalles") ~ px(500),
                   everything() ~ px(200)) %>%
         as_raw_html() 
```





