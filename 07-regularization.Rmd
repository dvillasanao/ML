# üßÆ **7. Regularizaci√≥n** {-}  

**Ejemplos:** L1 (Lasso), L2 (Ridge), Elastic Net   
**Cu√°ndo usarlo:**   

* Para evitar sobreajuste en modelos lineales o redes neuronales.
* Cuando tienes muchas variables (alta dimensionalidad).

**Ventajas:** Penaliza modelos complejos.   
**Limitaciones:** Puede eliminar variables √∫tiles si se usa en exceso.

---

## Elastic Net  {-}  

```{r, echo = FALSE}
criterios <- c(
  "Tipo de modelo",
  "Variable respuesta",
  "Variables predictoras",
  "Relaci√≥n entre variables",
  "Normalidad de residuos",
  "Independencia de errores",
  "Homoscedasticidad",
  "Sensible a outliers",
  "Multicolinealidad entre predictores",
  "Interpretabilidad",
  "Velocidad y eficiencia",
  "Validaci√≥n cruzada",
  "No funciona bien si..."
)

aplica <- c(
  "‚úÖ Supervisado (regresi√≥n)",
  "‚úÖ Num√©rica continua",
  "‚úÖ Num√©ricas (requiere estandarizaci√≥n)",
  "‚úÖ Lineal (como OLS)",
  "‚ö†Ô∏è Deseable, pero no esencial",
  "‚úÖ Supuesto importante",
  "‚úÖ Requiere homoscedasticidad",
  "‚ö†Ô∏è Afectado por outliers (no tan robusto)",
  "‚úÖ Ideal para multicolinealidad alta (mejor que LASSO)",
  "‚ö†Ô∏è Puede ser menos interpretable que LASSO si hay muchas variables seleccionadas",
  "‚úÖ R√°pido incluso con datos grandes",
  "‚úÖ Requiere validar los hiperpar√°metros `lambda` y `alpha`",
  "‚ùå Relaci√≥n no lineal, o pocos datos con muchas variables no relevantes"
)

detalles <- c(
  "Modelo de regresi√≥n penalizada que combina LASSO (L1) y Ridge (L2) en un solo modelo.",
  "Predice una variable continua a partir de variables independientes num√©ricas.",
  "Las variables deben estar estandarizadas para evitar que la penalizaci√≥n sesgue los coeficientes.",
  "Asume que la relaci√≥n entre variables es lineal.",
  "La normalidad ayuda para inferencia, pero no es cr√≠tica para predicci√≥n.",
  "Errores deben ser independientes para que los coeficientes sean v√°lidos.",
  "Varianza constante de los errores es un supuesto clave.",
  "Aunque regulariza, no es inmune a valores at√≠picos.",
  "Funciona bien cuando hay muchas variables correlacionadas entre s√≠.",
  "Mezcla selecci√≥n de variables (L1) y regularizaci√≥n (L2), lo cual puede dificultar la interpretaci√≥n directa.",
  "A pesar de usar dos penalizaciones, sigue siendo eficiente con librer√≠as como `glmnet`.",
  "Validaci√≥n cruzada se usa para seleccionar los mejores valores de `lambda` y `alpha`.",
  "Puede tener bajo rendimiento si no hay una relaci√≥n lineal o si las variables relevantes no est√°n presentes en el conjunto."
)

tabla_elastic_net <- data.frame(Criterio = criterios, Aplica = aplica, Detalles = detalles)

tabla_elastic_net %>%
 gt() %>%
  tab_header(title = "Gu√≠a r√°pida para elegir elastic net",
             subtitle = "Elastic Net")  %>%
   tab_footnote(footnote = "Fuente: Elaboraci√≥n propia") %>%
     tab_options(heading.title.font.size = 14, 
                 heading.subtitle.font.size = 12,
                 table.font.names = "Century Gothic",
                 table.font.size = 10,
                 data_row.padding = px(1)) %>%
      tab_style(style = list(cell_text(align = "left",
                                       weight = 'bold')),
                locations = list(cells_title(groups = c("title")))) %>%
       tab_style(style = list(cell_text(align = "left")),
                 locations = list(cells_title(groups = c("subtitle")))) %>%
        cols_width(starts_with("Detalles") ~ px(500),
                   everything() ~ px(200)) %>%
         as_raw_html() 
```




## Ridge Regression  {-}   

```{r, echo = FALSE}
criterios <- c(
  "Tipo de modelo",
  "Variable respuesta",
  "Variables predictoras",
  "Relaci√≥n entre variables",
  "Normalidad de residuos",
  "Independencia de errores",
  "Homoscedasticidad",
  "Sensible a outliers",
  "Multicolinealidad entre predictores",
  "Interpretabilidad",
  "Velocidad y eficiencia",
  "Validaci√≥n cruzada",
  "No funciona bien si..."
)

aplica <- c(
  "‚úÖ Supervisado (regresi√≥n)",
  "‚úÖ Num√©rica continua",
  "‚úÖ Num√©ricas (requiere estandarizaci√≥n)",
  "‚úÖ Lineal (como OLS)",
  "‚ö†Ô∏è Supuesto deseable pero no estricto",
  "‚úÖ Supuesto necesario",
  "‚úÖ Supuesto necesario",
  "‚ö†Ô∏è Puede verse afectado, pero menos que OLS",
  "‚úÖ Dise√±ado para mitigarla mediante penalizaci√≥n",
  "‚ö†Ô∏è Menos interpretable que OLS (coeficientes sesgados)",
  "‚úÖ Eficiente incluso con muchas variables",
  "‚úÖ Requiere validaci√≥n para ajustar par√°metro lambda",
  "‚ùå Si la relaci√≥n no es lineal o hay muchas variables irrelevantes"
)

detalles <- c(
  "Extensi√≥n de la regresi√≥n lineal que agrega penalizaci√≥n L2 para reducir sobreajuste y manejar multicolinealidad.",
  "Se utiliza cuando se desea predecir una variable num√©rica continua.",
  "Las variables deben ser num√©ricas y estar estandarizadas para que la penalizaci√≥n tenga sentido.",
  "Asume relaci√≥n lineal entre predictores y variable respuesta, como la regresi√≥n lineal.",
  "La normalidad es deseable para inferencia, pero no indispensable para predicci√≥n.",
  "Se espera independencia entre observaciones para que el modelo sea v√°lido.",
  "Es importante que los errores tengan varianza constante para predicciones fiables.",
  "Reduce varianza, pero valores extremos a√∫n pueden afectar los resultados.",
  "La penalizaci√≥n reduce varianza al achicar coeficientes, √∫til con predictores correlacionados.",
  "Coeficientes penalizados dificultan la interpretaci√≥n directa, pero mejoran estabilidad.",
  "R√°pido y adecuado para problemas con muchas variables; incluso p > n.",
  "Se usa validaci√≥n cruzada para elegir el mejor valor de lambda (par√°metro de regularizaci√≥n).",
  "No se recomienda cuando la relaci√≥n entre variables es no lineal o se requiere interpretaci√≥n clara."
)

tabla_ridge <- data.frame(Criterio = criterios, Aplica = aplica, Detalles = detalles)

tabla_ridge %>%
 gt() %>%
  tab_header(title = "Gu√≠a r√°pida para elegir ridge",
             subtitle = "Ridge Regression")  %>%
   tab_footnote(footnote = "Fuente: Elaboraci√≥n propia") %>%
     tab_options(heading.title.font.size = 14, 
                 heading.subtitle.font.size = 12,
                 table.font.names = "Century Gothic",
                 table.font.size = 10,
                 data_row.padding = px(1)) %>%
      tab_style(style = list(cell_text(align = "left",
                                       weight = 'bold')),
                locations = list(cells_title(groups = c("title")))) %>%
       tab_style(style = list(cell_text(align = "left")),
                 locations = list(cells_title(groups = c("subtitle")))) %>%
        cols_width(starts_with("Detalles") ~ px(500),
                   everything() ~ px(200)) %>%
         as_raw_html() 
```



## Least Absolute Shrinkage and Selection Operator (LASSO)  {-}  

```{r, echo = FALSE}
criterios <- c(
  "Tipo de modelo",
  "Variable respuesta",
  "Variables predictoras",
  "Relaci√≥n entre variables",
  "Normalidad de residuos",
  "Independencia de errores",
  "Homoscedasticidad",
  "Sensible a outliers",
  "Multicolinealidad entre predictores",
  "Interpretabilidad",
  "Velocidad y eficiencia",
  "Validaci√≥n cruzada",
  "No funciona bien si..."
)

aplica <- c(
  "‚úÖ Supervisado (regresi√≥n)",
  "‚úÖ Num√©rica continua",
  "‚úÖ Num√©ricas (requiere estandarizaci√≥n)",
  "‚úÖ Lineal (como OLS)",
  "‚ö†Ô∏è Deseable pero no estrictamente necesaria",
  "‚úÖ Requiere independencia de errores",
  "‚úÖ Requiere homoscedasticidad",
  "‚ö†Ô∏è Puede verse afectado por outliers extremos",
  "‚úÖ Maneja multicolinealidad mediante regularizaci√≥n",
  "‚úÖ Realiza selecci√≥n de variables (coeficientes pueden ser 0)",
  "‚úÖ Eficiente en alta dimensi√≥n; mejor que OLS",
  "‚úÖ Validaci√≥n cruzada necesaria para lambda",
  "‚ùå No es adecuado si la relaci√≥n es no lineal o hay muchas variables correlacionadas con igual relevancia"
)

detalles <- c(
  "Modelo de regresi√≥n penalizada que agrega penalizaci√≥n L1, capaz de forzar coeficientes a cero (selecci√≥n de variables).",
  "Se usa cuando se desea predecir una variable continua.",
  "Las variables predictoras deben estandarizarse para que la penalizaci√≥n sea justa entre coeficientes.",
  "Asume una relaci√≥n lineal entre los predictores y la respuesta.",
  "La normalidad ayuda para inferencia, pero no es cr√≠tica para predicci√≥n.",
  "Los errores deben ser independientes para que las estimaciones sean v√°lidas.",
  "Es deseable que la varianza de los errores sea constante a lo largo de los valores ajustados.",
  "Puede verse afectado por valores at√≠picos, aunque penaliza el modelo.",
  "Disminuye la varianza de los coeficientes y ayuda a estabilizar el modelo frente a multicolinealidad.",
  "Permite eliminar autom√°ticamente variables irrelevantes, facilitando modelos m√°s simples y explicables.",
  "Es computacionalmente eficiente, incluso cuando hay m√°s variables que observaciones.",
  "Lambda (par√°metro de penalizaci√≥n) se selecciona generalmente v√≠a validaci√≥n cruzada.",
  "Si hay muchas variables correlacionadas, LASSO tiende a seleccionar solo una de ellas, lo que puede ser inadecuado en algunos contextos."
)

tabla_lasso <- data.frame(Criterio = criterios, Aplica = aplica, Detalles = detalles)

tabla_lasso %>%
 gt() %>%
  tab_header(title = "Gu√≠a r√°pida para elegir LASSO",
             subtitle = "Least Absolute Shrinkage and Selection Operator (LASSO)")  %>%
   tab_footnote(footnote = "Fuente: Elaboraci√≥n propia") %>%
     tab_options(heading.title.font.size = 14, 
                 heading.subtitle.font.size = 12,
                 table.font.names = "Century Gothic",
                 table.font.size = 10,
                 data_row.padding = px(1)) %>%
      tab_style(style = list(cell_text(align = "left",
                                       weight = 'bold')),
                locations = list(cells_title(groups = c("title")))) %>%
       tab_style(style = list(cell_text(align = "left")),
                 locations = list(cells_title(groups = c("subtitle")))) %>%
        cols_width(starts_with("Detalles") ~ px(500),
                   everything() ~ px(200)) %>%
         as_raw_html() 
```





## Least Angle Regression (LARS)  {-}   

```{r, echo = FALSE}
criterios <- c(
  "Tipo de modelo",
  "Variable respuesta",
  "Variables predictoras",
  "Relaci√≥n entre variables",
  "Normalidad de residuos",
  "Independencia de errores",
  "Homoscedasticidad",
  "Sensible a outliers",
  "Multicolinealidad entre predictores",
  "Interpretabilidad",
  "Velocidad y eficiencia",
  "Validaci√≥n cruzada",
  "No funciona bien si..."
)

aplica <- c(
  "‚úÖ Supervisado (regresi√≥n)",
  "‚úÖ Num√©rica continua",
  "‚úÖ Num√©ricas (requiere estandarizaci√≥n)",
  "‚úÖ Lineal",
  "‚ö†Ô∏è Deseable para inferencia cl√°sica",
  "‚úÖ Necesaria",
  "‚úÖ Supuesto importante",
  "‚ö†Ô∏è Afectado por valores extremos",
  "‚úÖ Maneja bien multicolinealidad como LASSO",
  "‚úÖ Muy interpretable (secuencia de modelos anidados)",
  "‚úÖ Muy eficiente, especialmente con muchas variables",
  "‚úÖ √ötil para elegir n√∫mero de variables con validaci√≥n cruzada",
  "‚ùå Datos ruidosos o no lineales; ‚ùå si hay muchas interacciones no capturadas"
)

detalles <- c(
  "Algoritmo de regresi√≥n eficiente que selecciona variables secuencialmente como alternativa a LASSO.",
  "Busca predecir una variable continua usando m√∫ltiples predictores.",
  "Usa variables num√©ricas estandarizadas; es sensible a escala.",
  "Asume relaci√≥n lineal entre predictores y respuesta.",
  "No exige normalidad para predicci√≥n, pero s√≠ para inferencia estad√≠stica.",
  "Errores deben ser independientes entre s√≠.",
  "Supone varianza constante de los errores.",
  "Puede verse afectado si hay valores extremos en las variables.",
  "Muy √∫til cuando los predictores est√°n correlacionados; elige uno a la vez.",
  "Produce una ruta de modelos f√°cilmente interpretable con selecci√≥n progresiva.",
  "M√°s r√°pido que LASSO al generar trayectorias de coeficientes.",
  "Puede aplicarse validaci√≥n cruzada para seleccionar el mejor modelo en la secuencia.",
  "No captura relaciones no lineales o interacciones sin modificaci√≥n previa del modelo."
)

tabla_lars <- data.frame(Criterio = criterios, Aplica = aplica, Detalles = detalles)

tabla_lars %>%
 gt() %>%
  tab_header(title = "Gu√≠a r√°pida para elegir LARS",
             subtitle = "Least Angle Regression (LARS)")  %>%
   tab_footnote(footnote = "Fuente: Elaboraci√≥n propia") %>%
     tab_options(heading.title.font.size = 14, 
                 heading.subtitle.font.size = 12,
                 table.font.names = "Century Gothic",
                 table.font.size = 10,
                 data_row.padding = px(1)) %>%
      tab_style(style = list(cell_text(align = "left",
                                       weight = 'bold')),
                locations = list(cells_title(groups = c("title")))) %>%
       tab_style(style = list(cell_text(align = "left")),
                 locations = list(cells_title(groups = c("subtitle")))) %>%
        cols_width(starts_with("Detalles") ~ px(500),
                   everything() ~ px(200)) %>%
         as_raw_html() 
```


